var states_arr = new Array("ANDHRA PRADESH", "ARUNACHAL PRADESH", "ASSAM", "BIHAR", "CHHATTISGARH", "GOA", "GUJARAT", "HARYANA", "HIMACHAL PRADESH", "JAMMU & KASHMIR", "JHARKHAND", "KARNATAKA", "KERALA", "MADHYA PRADESH", "MAHARASHTRA", "MANIPUR", "MEGHALAYA", "MIZORAM", "NAGALAND", "ODISHA", "PUNJAB", "RAJASTHAN", "SIKKIM", "TAMIL NADU", "TRIPURA", "UTTAR PRADESH", "UTTARAKHAND", "WEST BENGAL", "A & N ISLANDS", "CHANDIGARH", "D & N HAVELI", "DAMAN & DIU", "DELHI UT", "LAKSHADWEEP", "PUDUCHERRY");
var year_arr = new Array(2023, 2024, 2025, 2026, 2027);
var district_arr = new Array();
var states = new Array('A & N Islands', 'Andhra Pradesh', 'Arunachal Pradesh', 'Assam', 'Bihar', 'Chandigarh', 'Chhattisgarh', 'D & N Haveli', 'Daman & Diu', 'Delhi', 'Goa', 'Gujarat', 'Haryana', 'Himachal Pradesh', 'Jammu & Kashmir', 'Jharkhand', 'Karnataka', 'Kerala', 'Lakshadweep', 'Madhya Pradesh', 'Maharashtra', 'Manipur', 'Meghalaya', 'Mizoram', 'Nagaland', 'Odisha', 'Puducherry', 'Punjab', 'Rajasthan', 'Sikkim', 'Tamil Nadu', 'Tripura', 'Uttar Pradesh', 'Uttarakhand', 'West Bengal');

district_arr[0] = "";

district_arr[1] = "ADILABAD|ANANTAPUR|CHITTOOR|CUDDAPAH|EAST GODAVARI|GUNTAKAL RLY.|GUNTUR|HYDERABAD CITY|KARIMNAGAR|KHAMMAM|KRISHNA|KURNOOL|MAHABOOBNAGAR|MEDAK|NALGONDA|NELLORE|NIZAMABAD|PRAKASHAM|RANGA REDDY|SECUNDERABAD RLY.|SRIKAKULAM|VIJAYAWADA|VIJAYAWADA RLY.|VISAKHA RURAL|VISAKHAPATNAM|VIZIANAGARAM|WARANGAL|WEST GODAVARI";

district_arr[2] = "CHANGLANG|DIBANG VALLEY|KAMENG EAST|KAMENG WEST|LOHIT|PAPUM PARE|SIANG EAST|SIANG UPPER|SIANG WEST|SUBANSIRI LOWER|SUBANSIRI UPPER|TAWANG|TIRAP";

district_arr[3] = "BARPETA|BONGAIGAON|C.I.D.|CACHAR|DARRANG|DHEMAJI|DHUBRI|DIBRUGARH|G.R.P.|GOALPARA|GOLAGHAT|GUWAHATI CITY|HAILAKANDI|JORHAT|KAMRUP|KARBI ANGLONG|KARIMGANJ|KOKRAJHAR|LAKHIMPUR|MORIGAON|N.C.HILLS|NAGAON|NALBARI|R.P.O.|SIBSAGAR|SONITPUR|TINSUKIA";

district_arr[4] = "ARARIA|ARWAL|AURANGABAD|BAGAHA|BANKA|BEGUSARAI|BETTIAH|BHABHUA|BHAGALPUR|BHOJPUR|BUXAR|DARBHANGA|GAYA|GOPALGANJ|JAMALPUR RLY.|JAMUI|JEHANABAD|KATIHAR|KATIHAR RLY.|KHAGARIA|KISHANGANJ|LAKHISARAI|MADHEPURA|MADHUBANI|MOTIHARI|MUNGER|MUZAFFARPUR|MUZAFFARPUR RLY.|NALANDA|NAUGACHIA|NAWADAH|PATNA|PATNA RLY.|PURNEA|ROHTAS|SAHARSA|SAMASTIPUR|SARAN|SHEIKHPURA|SHEOHAR|SITAMARHI|SIWAN|SUPAUL|VAISHALI";

district_arr[5] = "BALRAMPUR|BILASPUR|BIZAPUR|DANTEWARA|DHAMTARI|DURG|GRP RAIPUR|JAGDALPUR|JANJGIR|JASHPUR|KANKER|KAWARDHA|KORBA|KORIYA|MAHASAMUND|RAIGARH|RAIPUR|RAJNANDGAON|SARGUJA";

district_arr[6] = "NORTH GOA|SOUTH GOA";

district_arr[7] = "AHMEDABAD COMMR.|AHMEDABAD RURAL|AHWA-DANG|AMRELI|ANAND|BHARUCH|BHAVNAGAR|DAHOD|GANDHINAGAR|HIMATNAGAR|JAMNAGAR|JUNAGADH|KHEDA NORTH|KUTCH|MEHSANA|NARMADA|NAVSARI|PALANPUR|PANCHMAHAL|PATAN|PORBANDAR|RAJKOT COMMR.|RAJKOT RURAL|SURAT COMMR.|SURAT RURAL|SURENDRANAGAR|VADODARA COMMR.|VADODARA RURAL|VALSAD|W.RLY";

district_arr[8] = "AMBALA|BHIWANI|FARIDABAD|FATEHABAD|GRP|GURGAON|HISSAR|JHAJJAR|JIND|KAITHAL|KARNAL|KURUKSHETRA|MAHENDRAGARH|PANCHKULA|PANIPAT|REWARI|ROHTAK|SIRSA|SONIPAT|YAMUNANAGAR";

district_arr[9] = "BILASPUR|CHAMBA|G.R.P.|HAMIRPUR|KANGRA|KINNAUR|KULLU|LAHAUL-SPITI|MANDI|SHIMLA|SIRMAUR|SOLAN|UNA";

district_arr[10] = "ANANTNAG|AWANTIPORA|BARAMULLA|BORDER|BUDGAM|CRIME JAMMU|CRIME SRINAGAR|DODA|GANDERBAL|JAMMU|KARGIL|KATHUA|KULGAM|KUPWARA|LEH|POONCH|PULWAMA|RAILWAYS|RAJOURI|RAMBAN|REASI|SRINAGAR|UDHAMPUR";

district_arr[11] = "BOKARO|CHAIBASA|CHATRA|DEOGHAR|DHANBAD|DHANBAD RLY.|DUMKA|GARHWA|GIRIDIH|GODDA|GUMLA|HAZARIBAGH|JAMSHEDPUR|JAMSHEDPUR RLY.|JAMTARA|KODERMA|LATEHAR|LOHARDAGGA|PAKUR|PALAMU|RANCHI|SAHEBGANJ|SARAIKELA|SIMDEGA";

district_arr[12] = "BAGALKOT|BANGALORE COMMR.|BANGALORE RURAL|BELGAUM|BELLARY|BIDAR|BIJAPUR|CHAMARAJNAGAR|CHICKMAGALUR|CHITRADURGA|DAKSHIN KANNADA|DAVANAGERE|DHARWAD COMMR.|DHARWAD RURAL|GADAG|GULBARGA|HASSAN|HAVERI|K.G.F.|KODAGU|KOLAR|KOPPAL|MANDYA|MYSORE COMMR.|MYSORE RURAL|RAICHUR|RAILWAYS|SHIMOGA|TUMKUR|UDUPI|UTTAR KANNADA";

district_arr[13] = "ALAPUZHA|CBCID|ERNAKULAM|IDUKKI|KANNUR|KASARGOD|KOLLAM|KOTTAYAM|KOZHIKODE|MALAPPURAM|PALAKKAD|PATHANAMTHITTA|RAILWAYS|THRISSUR|TRIVANDRUM|WAYANADU";

district_arr[14] = "BALAGHAT|BARWANI|BETUL|BHIND|BHOPAL|BHOPAL RLY.|CHHATARPUR|CHHINDWARA|DAMOH|DATIYA|DEWAS|DHAR|DINDORI|GUNA|GWALIOR|HARDA|HOSHANGABAD|INDORE|INDORE RLY.|JABALPUR|JABALPUR RLY.|JHABUA|KATNI|KHANDWA|KHARGON|MANDLA|MANDSAUR|MORENA|NARSINGHPUR|NEEMUCH|PANNA|RAISEN|RAJGARH|RATLAM|REWA|SAGAR|SATNA|SEONI|SHAHDOL|SHAJAPUR|SHEOPUR|SHIVPURI|SIDHI|SIHORE|TIKAMGARH|UJJAIN|UMARIYA|VIDISHA";

district_arr[15] = "AHMEDNAGAR|AKOLA|AMRAVATI COMMR.|AMRAVATI RURAL|AURANGABAD COMMR.|AURANGABAD RURAL|BEED|BHANDARA|BULDHANA|CHANDRAPUR|DHULE|GADCHIROLI|GONDIA|HINGOLI|JALGAON|JALNA|KOLHAPUR|LATUR|MUMBAI|MUMBAI RLY.|NAGPUR COMMR.|NAGPUR RLY.|NAGPUR RURAL|NANDED|NANDURBAR|NASIK COMMR.|NASIK RURAL|NAVI MUMBAI|OSMANABAD|PARBHANI|PUNE COMMR.|PUNE RLY.|PUNE RURAL|RAIGAD|RATNAGIRI|SANGLI|SATARA|SINDHUDURG|SOLAPUR COMMR.|SOLAPUR RURAL|THANE COMMR.|THANE RURAL|WARDHA|WASHIM|YAVATMAL";

district_arr[16] = "BISHNUPUR|CHANDEL|CHURACHANDPUR|IMPHAL(EAST)|IMPHAL(WEST)|SENAPATI|TAMENGLONG|THOUBAL|UKHRUL";

district_arr[17] = "GARO HILLS EAST|GARO HILLS SOUTH|GARO HILLS WEST|JAINTIA HILLS|KHASI HILLS EAST|KHASI HILLS WEST|RI-BHOI";

district_arr[18] = "AIZAWL|CHAMPHAI|KOLASIB|LAWNGTLAI|LUNGLEI|MAMIT|SAIHA|SERCHHIP";

district_arr[19] = "DIMAPUR|KIPHIRE|KOHIMA|MOKOKCHUNG|MON|PEREN|PHEK|TUENSANG|WOKHA|ZUNHEBOTO";

district_arr[20] = "ANGUL|BALASORE|BARAGARH|BERHAMPUR|BHADRAK|BOLANGIR|BOUDH|CUTTACK|DEOGARH|DHENKANAL|GAJAPATI|GANJAM|JAGATSINGHPUR|JAJPUR|JHARSUGUDA|KALAHANDI|KANDHAMAL|KENDRAPARA|KEONJHAR|KHURDA|KORAPUT|MALKANGIR|MAYURBHANJ|NAYAGARH|NOWRANGPUR|NUAPADA|PURI|RAYAGADA|ROURKELA|SAMBALPUR|SONEPUR|SRP(CUTTACK)|SRP(ROURKELA)|SUNDARGARH";


district_arr[21] = "AMRITSAR|BARNALA|BATALA|BHATINDA|FARIDKOT|FATEHGARH SAHIB|FEROZEPUR|G.R.P|GURDASPUR|HOSHIARPUR|JAGRAON|JALANDHAR|KAPURTHALA|KHANNA|LUDHIANA|MAJITHA|MANSA|MOGA|MUKTSAR|NAWAN SHAHR|PATIALA|ROPAR|SANGRUR|TARN TARAN";

district_arr[22] = "AJMER|ALWAR|BANSWARA|BARAN|BARMER|BHARATPUR|BHILWARA|BIKANER|BUNDI|CHITTORGARH|CHURU|DAUSA|DHOLPUR|DUNGARPUR|G.R.P.|GANGANAGAR|HANUMANGARH|JAIPUR|JAISALMER|JALORE|JHALAWAR|JHUNJHUNU|JODHPUR|KARAULI|KOTA|NAGAUR|PALI|RAJSAMAND|SAWAI MADHOPUR|SIKAR|SIROHI|TONK|UDAIPUR";

district_arr[23] = "EAST|NORTH|SOUTH|WEST";

district_arr[24] = "ARIYALUR|CHENGAI|CHENNAI|CHENNAI RLY.|COIMBATORE RURAL|COIMBATORE URBAN|CUDDALORE|DHARMAPURI|DINDIGUL|ERODE|KANCHIPURAM|KANYAKUMARI|KARUR|MADURAI RURAL|MADURAI URBAN|NAGAPATTINAM|NAMAKKAL|NILGIRIS|PERAMBALUR|PUDUKOTTAI|RAMNATHAPURAM|SALEM RURAL|SALEM URBAN|SIVAGANGAI|THANJAVUR|THENI|THIRUNELVELI RURAL|THIRUNELVELI URBAN|THIRUVALLUR|THIRUVANNAMALAI|THIRUVARUR|THOOTHUGUDI|TRICHY RLY.|TRICHY RURAL|TRICHY URBAN|VELLORE|VILLUPURAM|VIRUDHUNAGAR";


district_arr[25] = "DHALAI|NORTH|SOUTH|WEST";

district_arr[26] = "AGRA|ALIGARH|ALLAHABAD|AMBEDKAR NAGAR|AURAIYA|AZAMGARH|BADAUN|BAGHPAT|BAHRAICH|BALLIA|BALRAMPUR|BANDA|BARABANKI|BAREILLY|BASTI|BIJNOR|BULANDSHAHAR|CHANDOLI|CHITRAKOOT DHAM|DEORIA|ETAH|ETAWAH|FAIZABAD|FATEHGARH|FATEHPUR|FIROZABAD|G.R.P.|GAUTAMBUDH NAGAR|GHAZIABAD|GHAZIPUR|GONDA|GORAKHPUR|HAMIRPUR|HARDOI|HATHRAS|J.P.NAGAR|JALAUN|JAUNPUR|JHANSI|KANNAUJ|KANPUR DEHAT|KANPUR NAGAR|KAUSHAMBI|KHIRI|KUSHI NAGAR|LALITPUR|LUCKNOW|MAHARAJGANJ|MAHOBA|MAINPURI|MATHURA|MAU|MEERUT|MIRZAPUR|MORADABAD|MUZAFFARNAGAR|PILIBHIT|PRATAPGARH|RAIBAREILLY|RAMPUR|SAHARANPUR|SANT KABIRNAGAR|SHAHJAHANPUR|SHRAWASTI|SIDHARTHNAGAR|SITAPUR|SONBHADRA|ST.RAVIDASNAGAR|SULTANPUR|UNNAO|VARANASI|";

district_arr[27] = "ALMORA|BAGESHWAR|CHAMOLI|CHAMPAWAT|DEHRADUN|HARIDWAR|NAINITAL|PAURI GARHWAL|PITHORAGARH|RUDRA PRAYAG|TEHRI GARHWAL|UDHAMSINGH NAGAR|UTTARKASHI";

district_arr[28] = "24 PARGANAS NORTH|24 PARGANAS SOUTH|ASANSOL|BANKURA|BIRBHUM|BURDWAN|COOCHBEHAR|DAKSHIN DINAJPUR|DARJEELING|HOOGHLY|HOWRAH|HOWRAH CITY|HOWRAH G.R.P.|JALPAIGURI|KOLKATA|MALDA|MIDNAPUR|MURSHIDABAD|NADIA|PURULIA|SEALDAH G.R.P.|SILIGURI G.R.P.|UTTAR DINAJPUR";

district_arr[29] = "ANDAMAN|NICOBAR|";

district_arr[30] = "CHANDIGARH";

district_arr[31] = "D and N HAVELI";

district_arr[32] = "DAMAN|DIU";

district_arr[33] = "CENTRAL|EAST|G.R.P.(RLY)|I.G.I. AIRPORT|NEW DELHI|NORTH|NORTH EAST|NORTH WEST|S.T.F.|SOUTH|SOUTH WEST|WEST";

district_arr[34] = "LAKSHADWEEP";

district_arr[35] = "PUDUCHERRY|KARAIKAL";


function populateDistricts(stateElementId, districtElementId) {
    var selectedStateIndex = document.getElementById(stateElementId).selectedIndex;
    var districtElement = document.getElementById(districtElementId);
    districtElement.length = 0;
    districtElement.options[0] = new Option('Select district', '');
    districtElement.selectedIndex = 0;
    var district_ar = district_arr[selectedStateIndex].split("|");
    for (var i = 0; i < district_ar.length; i++) {
        districtElement.options[districtElement.length] = new Option(district_ar[i], district_ar[i]);
    }
}

function populateStates(stateElementId, districtElementId) {

    // given the id of the <select> tag as function argument, it inserts <option> tags
    var stateElement = document.getElementById(stateElementId);
    stateElement.length = 0;
    stateElement.options[0] = new Option('Select state', '-1');
    stateElement.selectedIndex = 0;
    for (var i = 0; i < states_arr.length; i++) {
        stateElement.options[stateElement.length] = new Option(states_arr[i], states_arr[i]);
    }

    // Assigned all countries. Now assign event listener for the states.

    if (districtElementId) {
        stateElement.onchange = function() {
            populateDistricts(stateElementId, districtElementId);
        };
    }
}

function populatestates(stateElementId) {

    // given the id of the <select> tag as function argument, it inserts <option> tags
    var stateElement = document.getElementById(stateElementId);
    stateElement.length = 0;
    stateElement.options[0] = new Option('Select state', '-1');
    stateElement.selectedIndex = 0;
    for (var i = 0; i < states.length; i++) {
        stateElement.options[stateElement.length] = new Option(states[i], states[i]);
    }
}

function Addyears(yearelement) {
    var yearElement = document.getElementById(yearelement);
    for (var i = 0; i < year_arr.length; i++) {
        yearElement.options[yearElement.length] = new Option(year_arr[i], yearElement[year_arr]);

    }
}

function handleFileSelect(evt) {
    var file = evt.target.files[0];
    console.log(file);
    Papa.parse(file, {
        header: true,
        dynamicTyping: true,
        complete: function(results) {
            var data = results.data;
            var html = '<table>';
            html += '<thead><tr>';
            Object.keys(data[0]).forEach(function(key) {
                html += '<th>' + key + '</th>';
            });
            html += '</tr></thead>';
            html += '<tbody>';
            data.forEach(function(row1) {
                html += '<tr>';
                Object.values(row1).forEach(function(value) {
                    html += '<td>' + value + '</td>';
                });
                html += '</tr>';
            });
            html += '</tbody></table>';
            document.getElementById('csv-data').innerHTML = html;
        }

    });
}

function changecolor() {
    const text1 = document.getElementById("cluster-text");
    const text = text1.textContent;
    let color = '#222222';


    if (text === "RED ZONE") {
        color = "red";
    } else if (text === "GREEN ZONE") {
        color = "green"
    } else {
        color = "#ffa500";
    }
    text1.style.color = color;


}

function labelchanges() {
    const label = document.getElementById("prediction-input");
    let text = label.textContent;
    console.log(text);
    text = text.split(',').join('<br><br>');
    console.log(text);
    label.innerHTML = text;
}